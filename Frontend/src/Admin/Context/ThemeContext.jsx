import { Children, createContext,useContext,useDebugValue,useEffect,useState } from 'react';

const ThemeContext = createContext();


export const ThemeProvider=({Children})=>{
    const [dark,setDark]=useState(()=>{
        return localStorage.getItem('theme')==='dark';
    });

    useEffect(()=>{

        const root=document.documentElement;
        if(dark){
            root.classList.add("dark");
            localStorage.setItem('theme','dark');
        }else{
            root.classList.remove("dark");
            localStorage.setItem('theme','light');
        }
    },[dark]);

    return(
        <ThemeContext.Provider value={{dark,setDark}}>
            {Children}
        </ThemeContext.Provider>
         
    )

}

export const useTheme=()=>useContext(ThemeContext);